
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://balrajsingh-dev.hashnode.dev/AboutThis%20Project/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../Referance/">
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>AboutThis Project - My MkDocs Material Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather+Sans:300,300i,400,400i,700,700i%7CRed+Hat+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Merriweather Sans";--md-code-font:"Red Hat Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#testing-document-using-github-pages" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="My MkDocs Material Documentation" class="md-header__button md-logo" aria-label="My MkDocs Material Documentation" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My MkDocs Material Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              AboutThis Project
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="deep-purple"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="My MkDocs Material Documentation" class="md-nav__button md-logo" aria-label="My MkDocs Material Documentation" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    My MkDocs Material Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome to MkDocs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    AboutThis Project
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    AboutThis Project
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Project Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inspect-the-cloud-init-logs" class="md-nav__link">
    <span class="md-ellipsis">
      Inspect the Cloud-Init logs:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Verify the Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-eks-cluster-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Verify the EKS Cluster installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-github-repo-and-github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      Verify GitHub Repo and GitHub Actions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-virtual-machine-as-a-runner" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a Virtual Machine as a Runner
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Adding a Virtual Machine as a Runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixsolution" class="md-nav__link">
    <span class="md-ellipsis">
      Fix/Solution:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-sonarqube" class="md-nav__link">
    <span class="md-ellipsis">
      Setup SonarQube
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup SonarQube">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-token-in-sonarqube" class="md-nav__link">
    <span class="md-ellipsis">
      Create a token in SonarQube
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-secrets-and-variables-in-github-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Configure Secrets and Variables in GitHub Repo.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attach-role-to-runner-ec2" class="md-nav__link">
    <span class="md-ellipsis">
      Attach Role to Runner EC2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-the-cicd-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Writing the CI/CD Pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-docker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Verify the Docker Image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-code-coverage-in-sonarqube" class="md-nav__link">
    <span class="md-ellipsis">
      Verify code coverage in SonarQube
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-pipeline-status" class="md-nav__link">
    <span class="md-ellipsis">
      Verify pipeline Status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-pods-in-runner-vm" class="md-nav__link">
    <span class="md-ellipsis">
      Verify the pods in runner VM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-application-status" class="md-nav__link">
    <span class="md-ellipsis">
      Verify Application Status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Cleanup:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Environment Cleanup:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#to-delete-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      To delete deployment:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-delete-aws-eks-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      To delete AWS EKS cluster
    </span>
  </a>
  
    <nav class="md-nav" aria-label="To delete AWS EKS cluster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#troubleshooting_1" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixsolution_1" class="md-nav__link">
    <span class="md-ellipsis">
      Fix/Solution:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-delete-the-virtual-machine" class="md-nav__link">
    <span class="md-ellipsis">
      To delete the Virtual machine.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-use-this-project" class="md-nav__link">
    <span class="md-ellipsis">
      Why Use This Project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Referance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Referance
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../admonitions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Admonitions
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../code-examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Examples
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../content-tabs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Content tabs
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Project Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inspect-the-cloud-init-logs" class="md-nav__link">
    <span class="md-ellipsis">
      Inspect the Cloud-Init logs:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Verify the Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-eks-cluster-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Verify the EKS Cluster installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-github-repo-and-github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      Verify GitHub Repo and GitHub Actions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-virtual-machine-as-a-runner" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a Virtual Machine as a Runner
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Adding a Virtual Machine as a Runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixsolution" class="md-nav__link">
    <span class="md-ellipsis">
      Fix/Solution:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-sonarqube" class="md-nav__link">
    <span class="md-ellipsis">
      Setup SonarQube
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup SonarQube">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-token-in-sonarqube" class="md-nav__link">
    <span class="md-ellipsis">
      Create a token in SonarQube
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-secrets-and-variables-in-github-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Configure Secrets and Variables in GitHub Repo.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attach-role-to-runner-ec2" class="md-nav__link">
    <span class="md-ellipsis">
      Attach Role to Runner EC2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-the-cicd-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Writing the CI/CD Pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-docker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Verify the Docker Image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-code-coverage-in-sonarqube" class="md-nav__link">
    <span class="md-ellipsis">
      Verify code coverage in SonarQube
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-pipeline-status" class="md-nav__link">
    <span class="md-ellipsis">
      Verify pipeline Status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-pods-in-runner-vm" class="md-nav__link">
    <span class="md-ellipsis">
      Verify the pods in runner VM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-application-status" class="md-nav__link">
    <span class="md-ellipsis">
      Verify Application Status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Cleanup:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Environment Cleanup:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#to-delete-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      To delete deployment:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-delete-aws-eks-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      To delete AWS EKS cluster
    </span>
  </a>
  
    <nav class="md-nav" aria-label="To delete AWS EKS cluster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#troubleshooting_1" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixsolution_1" class="md-nav__link">
    <span class="md-ellipsis">
      Fix/Solution:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-delete-the-virtual-machine" class="md-nav__link">
    <span class="md-ellipsis">
      To delete the Virtual machine.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-use-this-project" class="md-nav__link">
    <span class="md-ellipsis">
      Why Use This Project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<!-- sudo rm /etc/apt/sources.list.d/trivy.list
‚úÖ Step-by-step Fix:
1. Check for Duplicate Sources
Run this to find duplicate entries:

bash
Copy
Edit
grep -r "aquasecurity.github.io" /etc/apt/sources.list /etc/apt/sources.list.d/
You'll likely see multiple entries for Trivy, possibly with different Signed-By values.

2. Remove the Conflicting Entry/Entries
Remove the Trivy source files causing the conflict:

bash
Copy
Edit
sudo rm /etc/apt/sources.list.d/trivy.list
(Adjust the filename if different based on the output of step 1.)

 that's the root cause right there. You have two conflicting lines in the same file (/etc/apt/sources.list.d/trivy.list):

One line includes signed-by=/usr/share/keyrings/trivy.gpg

The other does not ‚Äî and that creates the conflict.

üîß Fix It
You just need to clean up that file and leave only one valid line. Here's how:

Option 1: Clean manually (quick edit)
bash
Copy
Edit
sudo nano /etc/apt/sources.list.d/trivy.list
Change this:

bash
Copy
Edit
deb [signed-by=/usr/share/keyrings/trivy.gpg] https://aquasecurity.github.io/trivy-repo/deb noble main
deb https://aquasecurity.github.io/trivy-repo/deb noble main
To this (just keep one line):

bash
Copy
Edit
deb [signed-by=/usr/share/keyrings/trivy.gpg] https://aquasecurity.github.io/trivy-repo/deb noble main
Then save and exit (Ctrl+O, Enter, Ctrl+X).

Option 2: Or delete the file entirely (if you're removing Trivy anyway)
bash
Copy
Edit
sudo rm /etc/apt/sources.list.d/trivy.list
 -->

<hr />
<h1 id="testing-document-using-github-pages">TESTING DOCUMENT USING GITHUB PAGES</h1>
<!-- 
- Kubernetes Made Easy: Terraform-Powered EKS Provisioning with GitHub Actions CI/CD
- Technical Project project: GitHub Actions CI/CD Pipeline with Live Project
# https://github.com/user-attachments/assets/b93fa528-6778-4c97-94ee-6e36c7f4fa8e
 -->
<h2 id="_1"><img alt="Image" src="https://github.com/user-attachments/assets/1441af6c-9a1a-4bdd-97bd-1197519455c5" /></h2>
<h2 id="project-overview"><strong>Project Overview</strong></h2>
<p>This project outlines the step-by-step process of setting up a CI/CD pipeline using GitHub Actions. The project demonstrates how to automate the build, test, and deployment of an application to Kubernetes using tools like Docker, Trivy, SonarQube, and Terraform. The project also highlights the integration of AWS role for managing cloud resources and Kubernetes clusters.</p>
<hr />
<h2 id="prerequisites"><span style="color: Yellow;"> Prerequisites </span></h2>
<p>Before diving into this project, here are some skills and tools you should be familiar with:</p>
<ul>
<li>Terraform installed on your machine.</li>
<li>A GitHub account.</li>
<li>A GitHub personal access token with the necessary permissions to create repositories.</li>
</ul>
<blockquote>
<p>‚ö†Ô∏è <strong>Important:</strong> </p>
<ol>
<li>Make sure First you will create a <strong><code>.pem</code></strong> key manually from the AWS console. i.e "MYLABKEY.pem" because it will be used for creating <code>EC2</code> VMs and <code>EKS cluster</code>.</li>
<li>Copy <code>MYLABKEY.pem</code> in the terraform directory (<code>01.Code_IAC_Selfhosted-Runner-and-Trivy</code> and <code>03.Code_IAC_Terraform_box</code> ) as below your terraform code</li>
<li><a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens">Generate the Github Token</a>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>ls<span class="w"> </span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="se">\L</span>earning_GitHub_Action<span class="se">\0</span><span class="m">1</span>.Github_Action_DevOps-Project<span class="se">\T</span>erraform_Code_Infra_setup
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>Mode<span class="w">                 </span>LastWriteTime<span class="w">         </span>Length<span class="w"> </span>Name<span class="w">                                                                                                                                                                                              </span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>----<span class="w">                 </span>-------------<span class="w">         </span>------<span class="w"> </span>----<span class="w">                                                                                                                                                                                              </span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>dar--l<span class="w">          </span><span class="m">17</span>/04/25<span class="w">  </span><span class="m">12</span>:48<span class="w"> </span>PM<span class="w">                </span>.terraform<span class="w">                                                                                                                                                                                        </span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>dar--l<span class="w">          </span><span class="m">21</span>/04/25<span class="w">  </span><span class="m">12</span>:34<span class="w"> </span>PM<span class="w">                </span><span class="m">00</span>.Code_IAC-github-repo<span class="w">                                                                                                                                                                           </span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>dar--l<span class="w">          </span><span class="m">21</span>/04/25<span class="w">  </span><span class="m">12</span>:34<span class="w"> </span>PM<span class="w">                </span><span class="m">01</span>.Code_IAC_Selfhosted-Runner-and-Trivy<span class="w">                                                                                                                                                           </span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>dar--l<span class="w">          </span><span class="m">21</span>/04/25<span class="w">   </span><span class="m">1</span>:38<span class="w"> </span>PM<span class="w">                </span><span class="m">02</span>.Code_IAC_SonarQube<span class="w">                                                                                                                                                                             </span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>dar--l<span class="w">          </span><span class="m">21</span>/04/25<span class="w">  </span><span class="m">12</span>:34<span class="w"> </span>PM<span class="w">                </span><span class="m">03</span>.Code_IAC_Terraform_box<span class="w">                                                                                                                                                                         </span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>-a---l<span class="w">          </span><span class="m">20</span>/08/24<span class="w">   </span><span class="m">1</span>:45<span class="w"> </span>PM<span class="w">            </span><span class="m">493</span><span class="w"> </span>.gitignore<span class="w">                                                                                                                                                                                                                                                                                                                                    </span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>-a---l<span class="w">          </span><span class="m">21</span>/04/25<span class="w">   </span><span class="m">1</span>:59<span class="w"> </span>PM<span class="w">          </span><span class="m">18225</span><span class="w"> </span>AboutThis<span class="w"> </span>Project.md<span class="w">                                                                                                                                                                              </span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>-a---l<span class="w">          </span><span class="m">19</span>/04/25<span class="w">   </span><span class="m">8</span>:48<span class="w"> </span>PM<span class="w">           </span><span class="m">1309</span><span class="w"> </span>main.tf<span class="w">                                                                                  </span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="sb">````</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>-<span class="w"> </span><span class="o">[</span>Clone<span class="w"> </span>repository<span class="w"> </span><span class="k">for</span><span class="w"> </span>terraform<span class="w"> </span>code<span class="o">](</span>https://github.com/mrbalraj007/Learning_GitHub_Action/tree/main/01.Github_Action_DevOps-Project/Terraform_Code_Infra_setup<span class="o">)</span>&lt;br&gt;
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">  </span>&gt;<span class="w"> </span>üí°<span class="w"> </span>**Note:**<span class="w"> </span>Replace<span class="w"> </span>GitHub<span class="w"> </span>Token,<span class="w"> </span>resource<span class="w"> </span>names<span class="w"> </span>and<span class="w"> </span>variables<span class="w"> </span>as<span class="w"> </span>per<span class="w"> </span>your<span class="w"> </span>requirement<span class="w"> </span><span class="k">in</span><span class="w"> </span>terraform<span class="w"> </span>code
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="w">  </span>&gt;<span class="w"> </span>-<span class="w"> </span>For<span class="w"> </span>**<span class="sb">`</span>github<span class="w"> </span>Repo<span class="sb">`</span>**<span class="w"> </span>Token<span class="w"> </span>value<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>updated<span class="w"> </span><span class="k">in</span><span class="w"> </span>file<span class="w"> </span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="w">      </span>-<span class="w"> </span><span class="sb">`</span><span class="m">00</span>.Code_IAC-github-repo/variables.tf<span class="sb">`</span><span class="w"> </span><span class="o">(</span>i.e<span class="w"> </span>default-<span class="w"> </span><span class="sb">```</span>xxxxxx<span class="sb">```</span>*<span class="o">)</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="w">  </span>&gt;<span class="w"> </span>-<span class="w"> </span>**For<span class="w"> </span>EC2<span class="w"> </span>VM**<span class="w"> </span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="w">      </span>-<span class="w"> </span><span class="sb">`</span><span class="m">01</span>.Code_IAC_Selfhosted-Runner-and-Trivy/main.tf<span class="sb">`</span><span class="w"> </span><span class="o">(</span>i.e<span class="w"> </span>keyname-<span class="w"> </span><span class="sb">```</span>MYLABKEY<span class="sb">```</span>*<span class="o">)</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="w">      </span>-<span class="w"> </span><span class="sb">`</span><span class="m">03</span>.Code_IAC_Terraform_box/main.tf<span class="sb">`</span><span class="w"> </span><span class="o">(</span>i.e<span class="w"> </span>keyname-<span class="w"> </span><span class="sb">```</span>MYLABKEY<span class="sb">```</span>*<span class="o">)</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="w">  </span>&gt;<span class="w"> </span>-<span class="w"> </span>For<span class="w"> </span>**Cluster<span class="w"> </span>name**<span class="w"> </span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="w">      </span>-<span class="w"> </span><span class="sb">`</span><span class="m">03</span>.Code_IAC_Terraform_box/k8s_setup_file/main.tf<span class="sb">`</span><span class="w"> </span><span class="o">(</span>i.e<span class="w"> </span><span class="sb">```</span>balraj<span class="sb">```</span>*<span class="o">)</span>.
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="w">  </span>&gt;<span class="w"> </span>-<span class="w"> </span>For<span class="w"> </span>**Node<span class="w"> </span>Pod**
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="w">      </span>-<span class="w"> </span><span class="sb">`</span><span class="m">03</span>.Code_IAC_Terraform_box/k8s_setup_file/variable.tf<span class="sb">`</span><span class="w"> </span><span class="o">(</span>i.e<span class="w"> </span><span class="sb">```</span>MYLABKEY<span class="sb">```</span>*<span class="o">)</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>-<span class="w"> </span>**Set<span class="w"> </span>up<span class="w"> </span>your<span class="w"> </span>GitHub<span class="w"> </span>token**:
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="w">   </span>-<span class="w"> </span>Create<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>GitHub<span class="w"> </span>personal<span class="w"> </span>access<span class="w"> </span>token<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span><span class="sb">`</span>repo<span class="sb">`</span><span class="w"> </span>scope<span class="w"> </span>at<span class="w"> </span>https://github.com/settings/tokens.<span class="w"> </span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a><span class="w">   </span>-<span class="w"> </span>Then<span class="w"> </span><span class="nb">set</span><span class="w"> </span>it<span class="w"> </span>as<span class="w"> </span>an<span class="w"> </span>environment<span class="w"> </span>variable<span class="w"> </span><span class="o">(</span>DO<span class="w"> </span>NOT<span class="w"> </span>commit<span class="w"> </span>your<span class="w"> </span>token<span class="w"> </span>to<span class="w"> </span>version<span class="w"> </span>control<span class="o">)</span>:
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a><span class="w">   </span><span class="sb">```</span>bash
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a><span class="w">   </span><span class="c1"># For Linux/macOS</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a><span class="w">   </span><span class="nb">export</span><span class="w"> </span><span class="nv">GITHUB_TOKEN</span><span class="o">=</span>your_github_token
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a><span class="w">   </span><span class="c1"># For Windows Command Prompt</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a><span class="w">   </span><span class="nb">set</span><span class="w"> </span><span class="nv">GITHUB_TOKEN</span><span class="o">=</span>your_github_token
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a><span class="w">   </span><span class="c1"># For Windows PowerShell (I used this one)</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a><span class="w">   </span><span class="c1"># $env:GITHUB_TOKEN=&quot;your_github_token&quot;</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a><span class="w">   </span><span class="nv">$env</span>:TF_VAR_github_token<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;your-github-personal-access-token&quot;</span>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a><span class="w">   </span><span class="sb">```</span>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>-<span class="w"> </span>**Test<span class="w"> </span>and<span class="w"> </span>verify<span class="w"> </span>with<span class="w"> </span>curl<span class="w"> </span>again<span class="w"> </span><span class="k">in</span><span class="w"> </span>powershell<span class="w"> </span>terminal:**
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a><span class="w">   </span><span class="sb">```</span>powershell
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a><span class="w">   </span><span class="nv">$headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>@<span class="o">{</span>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a><span class="w">    </span><span class="nv">Authorization</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;token </span><span class="nv">$env</span><span class="s2">:TF_VAR_github_token&quot;</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a><span class="w">   </span><span class="o">}</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a><span class="w">   </span>Invoke-WebRequest<span class="w"> </span>-Uri<span class="w"> </span><span class="s2">&quot;https://api.github.com/user&quot;</span><span class="w"> </span>-Headers<span class="w"> </span><span class="nv">$headers</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a><span class="w">   </span><span class="sb">```</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a><span class="w">   </span>-<span class="w"> </span>You<span class="w"> </span>should<span class="w"> </span>see<span class="w"> </span>your<span class="w"> </span>GitHub<span class="w"> </span>user<span class="w"> </span>info<span class="w"> </span><span class="k">in</span><span class="w"> </span>JSON,<span class="w"> </span>**not**<span class="w"> </span><span class="s2">&quot;Bad credentials&quot;</span>.
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a>---
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a><span class="c1">## **Key Points**</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a><span class="m">1</span>.<span class="w"> </span>**GitHub<span class="w"> </span>Actions<span class="w"> </span>Overview**:
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a><span class="w">   </span>-<span class="w"> </span>GitHub<span class="w"> </span>Actions<span class="w"> </span>is<span class="w"> </span>used<span class="w"> </span>as<span class="w"> </span>the<span class="w"> </span>CI/CD<span class="w"> </span>tool<span class="w"> </span><span class="k">for</span><span class="w"> </span>this<span class="w"> </span>project.
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a><span class="w">   </span>-<span class="w"> </span>It<span class="w"> </span>eliminates<span class="w"> </span>the<span class="w"> </span>need<span class="w"> </span><span class="k">for</span><span class="w"> </span>setting<span class="w"> </span>up<span class="w"> </span>and<span class="w"> </span>maintaining<span class="w"> </span>Jenkins<span class="w"> </span>servers<span class="w"> </span>by<span class="w"> </span>providing<span class="w"> </span>managed<span class="w"> </span>runners.
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a><span class="m">2</span>.<span class="w"> </span>**Pipeline<span class="w"> </span>Stages**:
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61" href="#__codelineno-0-61"></a><span class="w">   </span>-<span class="w"> </span>**Compile**:<span class="w"> </span>Builds<span class="w"> </span>the<span class="w"> </span>application.
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62" href="#__codelineno-0-62"></a><span class="w">   </span>-<span class="w"> </span>**Security<span class="w"> </span>Checks**:<span class="w"> </span>Scans<span class="w"> </span><span class="k">for</span><span class="w"> </span>vulnerabilities<span class="w"> </span>using<span class="w"> </span>Trivy<span class="w"> </span>and<span class="w"> </span>GitLeaks.
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63" href="#__codelineno-0-63"></a><span class="w">   </span>-<span class="w"> </span>**Unit<span class="w"> </span>Testing**:<span class="w"> </span>Executes<span class="w"> </span><span class="nb">test</span><span class="w"> </span>cases<span class="w"> </span>to<span class="w"> </span>ensure<span class="w"> </span>code<span class="w"> </span>quality.
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64" href="#__codelineno-0-64"></a><span class="w">   </span>-<span class="w"> </span>**Build<span class="w"> </span>and<span class="w"> </span>Publish<span class="w"> </span>Docker<span class="w"> </span>Image**:<span class="w"> </span>Builds<span class="w"> </span>a<span class="w"> </span>Docker<span class="w"> </span>image<span class="w"> </span>and<span class="w"> </span>uploads<span class="w"> </span>it<span class="w"> </span>as<span class="w"> </span>an<span class="w"> </span>artifact.
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65" href="#__codelineno-0-65"></a><span class="w">   </span>-<span class="w"> </span>**Deploy<span class="w"> </span>to<span class="w"> </span>Kubernetes**:<span class="w"> </span>Deploys<span class="w"> </span>the<span class="w"> </span>application<span class="w"> </span>to<span class="w"> </span>an<span class="w"> </span>EKS<span class="w"> </span>cluster<span class="w"> </span>using<span class="w"> </span>Terraform.
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66" href="#__codelineno-0-66"></a>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67" href="#__codelineno-0-67"></a><span class="m">3</span>.<span class="w"> </span>**Tools<span class="w"> </span>and<span class="w"> </span>Technologies<span class="w"> </span>Used**:
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68" href="#__codelineno-0-68"></a><span class="w">   </span>-<span class="w"> </span>**GitHub<span class="w"> </span>Actions**:<span class="w"> </span>CI/CD<span class="w"> </span>automation.
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69" href="#__codelineno-0-69"></a><span class="w">   </span>-<span class="w"> </span>**Docker**:<span class="w"> </span>Containerization<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>application.
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70" href="#__codelineno-0-70"></a><span class="w">   </span>-<span class="w"> </span>**Trivy**:<span class="w"> </span>Security<span class="w"> </span>scanning<span class="w"> </span><span class="k">for</span><span class="w"> </span>vulnerabilities.
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71" href="#__codelineno-0-71"></a><span class="w">   </span>-<span class="w"> </span>**GitLeaks**:<span class="w"> </span>Detects<span class="w"> </span>hardcoded<span class="w"> </span>secrets<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span><span class="nb">source</span><span class="w"> </span>code.
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72" href="#__codelineno-0-72"></a><span class="w">   </span>-<span class="w"> </span>**SonarQube**:<span class="w"> </span>Code<span class="w"> </span>quality<span class="w"> </span>analysis.
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73" href="#__codelineno-0-73"></a><span class="w">   </span>-<span class="w"> </span>**AWS<span class="w"> </span>CLI**:<span class="w"> </span>Manages<span class="w"> </span>AWS<span class="w"> </span>resources.
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74" href="#__codelineno-0-74"></a><span class="w">   </span>-<span class="w"> </span>**Terraform**:<span class="w"> </span>Infrastructure<span class="w"> </span>as<span class="w"> </span>Code<span class="w"> </span><span class="o">(</span>IaC<span class="o">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>provisioning<span class="w"> </span>EKS<span class="w"> </span>clusters.
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75" href="#__codelineno-0-75"></a><span class="w">   </span>-<span class="w"> </span>**Kubernetes**:<span class="w"> </span>Orchestrates<span class="w"> </span>containerized<span class="w"> </span>applications.
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76" href="#__codelineno-0-76"></a>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77" href="#__codelineno-0-77"></a><span class="m">4</span>.<span class="w"> </span>**Why<span class="w"> </span>Use<span class="w"> </span>This<span class="w"> </span>Project**:
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78" href="#__codelineno-0-78"></a><span class="w">   </span>-<span class="w"> </span>Automates<span class="w"> </span>the<span class="w"> </span>software<span class="w"> </span>delivery<span class="w"> </span>process.
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79" href="#__codelineno-0-79"></a><span class="w">   </span>-<span class="w"> </span>Ensures<span class="w"> </span>code<span class="w"> </span>quality<span class="w"> </span>and<span class="w"> </span>security<span class="w"> </span>through<span class="w"> </span>automated<span class="w"> </span>checks.
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80" href="#__codelineno-0-80"></a><span class="w">   </span>-<span class="w"> </span>Simplifies<span class="w"> </span>deployment<span class="w"> </span>to<span class="w"> </span>Kubernetes<span class="w"> </span>clusters.
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81" href="#__codelineno-0-81"></a><span class="w">   </span>-<span class="w"> </span>Demonstrates<span class="w"> </span>best<span class="w"> </span>practices<span class="w"> </span><span class="k">for</span><span class="w"> </span>CI/CD<span class="w"> </span>pipelines.
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82" href="#__codelineno-0-82"></a>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83" href="#__codelineno-0-83"></a><span class="m">5</span>.<span class="w"> </span>**Takeaways**:
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84" href="#__codelineno-0-84"></a><span class="w">   </span>-<span class="w"> </span>Understanding<span class="w"> </span>of<span class="w"> </span>GitHub<span class="w"> </span>Actions<span class="w"> </span>and<span class="w"> </span>its<span class="w"> </span>capabilities.
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85" href="#__codelineno-0-85"></a><span class="w">   </span>-<span class="w"> </span>Hands-on<span class="w"> </span>experience<span class="w"> </span>with<span class="w"> </span>integrating<span class="w"> </span>security<span class="w"> </span>tools<span class="w"> </span>like<span class="w"> </span>Trivy<span class="w"> </span>and<span class="w"> </span>GitLeaks.
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86" href="#__codelineno-0-86"></a><span class="w">   </span>-<span class="w"> </span>Knowledge<span class="w"> </span>of<span class="w"> </span>deploying<span class="w"> </span>applications<span class="w"> </span>to<span class="w"> </span>Kubernetes<span class="w"> </span>using<span class="w"> </span>Terraform.
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87" href="#__codelineno-0-87"></a><span class="w">   </span>-<span class="w"> </span>Insights<span class="w"> </span>into<span class="w"> </span>managing<span class="w"> </span>AWS<span class="w"> </span>resources<span class="w"> </span>with<span class="w"> </span>AWS<span class="w"> </span>CLI.
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88" href="#__codelineno-0-88"></a>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89" href="#__codelineno-0-89"></a>---
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90" href="#__codelineno-0-90"></a>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91" href="#__codelineno-0-91"></a><span class="c1">## **Step-by-Step Process**</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92" href="#__codelineno-0-92"></a>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93" href="#__codelineno-0-93"></a><span class="c1">### &lt;span style=&quot;color: Yellow;&quot;&gt;Setting Up the Infrastructure &lt;/span&gt;</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94" href="#__codelineno-0-94"></a>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95" href="#__codelineno-0-95"></a>I<span class="w"> </span>have<span class="w"> </span>created<span class="w"> </span>a<span class="w"> </span>Terraform<span class="w"> </span>code<span class="w"> </span>to<span class="w"> </span><span class="nb">set</span><span class="w"> </span>up<span class="w"> </span>the<span class="w"> </span>entire<span class="w"> </span>infrastructure,<span class="w"> </span>including<span class="w"> </span>the<span class="w"> </span>installation<span class="w"> </span>of<span class="w"> </span>required<span class="w"> </span>applications,<span class="w"> </span>tools,<span class="w"> </span>and<span class="w"> </span>the<span class="w"> </span>EKS<span class="w"> </span>cluster<span class="w"> </span>automatically<span class="w"> </span>created.
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96" href="#__codelineno-0-96"></a>-<span class="w"> </span><span class="p">&amp;</span>rArr<span class="p">;</span>&lt;span<span class="w"> </span><span class="nv">style</span><span class="o">=</span><span class="s2">&quot;color: brown;&quot;</span>&gt;<span class="w"> </span>Docker<span class="w"> </span>Install
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97" href="#__codelineno-0-97"></a>-<span class="w"> </span><span class="p">&amp;</span>rArr<span class="p">;</span>&lt;span<span class="w"> </span><span class="nv">style</span><span class="o">=</span><span class="s2">&quot;color: brown;&quot;</span>&gt;<span class="w"> </span>SonarQube<span class="w"> </span>Install
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98" href="#__codelineno-0-98"></a>-<span class="w"> </span><span class="p">&amp;</span>rArr<span class="p">;</span>&lt;span<span class="w"> </span><span class="nv">style</span><span class="o">=</span><span class="s2">&quot;color: brown;&quot;</span>&gt;<span class="w"> </span>Trivy<span class="w"> </span>Install
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99" href="#__codelineno-0-99"></a>-<span class="w"> </span><span class="p">&amp;</span>rArr<span class="p">;</span>&lt;span<span class="w"> </span><span class="nv">style</span><span class="o">=</span><span class="s2">&quot;color: brown;&quot;</span>&gt;<span class="w"> </span>Terraform<span class="w"> </span>Install
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100" href="#__codelineno-0-100"></a>-<span class="w"> </span><span class="p">&amp;</span>rArr<span class="p">;</span>&lt;span<span class="w"> </span><span class="nv">style</span><span class="o">=</span><span class="s2">&quot;color: brown;&quot;</span>&gt;<span class="w"> </span>EKS<span class="w"> </span>Cluster<span class="w"> </span>Setup
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101" href="#__codelineno-0-101"></a>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102" href="#__codelineno-0-102"></a>&gt;<span class="w"> </span>üí°<span class="w"> </span>**Note:**<span class="w">  </span><span class="p">&amp;</span>rArr<span class="p">;</span>&lt;span<span class="w"> </span><span class="nv">style</span><span class="o">=</span><span class="s2">&quot;color: Green;&quot;</span>&gt;<span class="w"> </span><span class="sb">```</span>EKS<span class="w"> </span>cluster<span class="sb">```</span><span class="w"> </span>creation<span class="w"> </span>will<span class="w"> </span>take<span class="w"> </span>approx.<span class="w"> </span><span class="m">10</span><span class="w"> </span>to<span class="w"> </span><span class="m">15</span><span class="w"> </span>minutes.
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103" href="#__codelineno-0-103"></a>&gt;<span class="w"> </span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104" href="#__codelineno-0-104"></a><span class="c1">#### &lt;span style=&quot;color: Yellow;&quot;&gt; To Create EC2 Instances</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105" href="#__codelineno-0-105"></a>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106" href="#__codelineno-0-106"></a>First,<span class="w"> </span>we<span class="s1">&#39;ll create the necessary virtual machines using ```terraform``` code. </span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107" href="#__codelineno-0-107"></a>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108" href="#__codelineno-0-108"></a><span class="s1">Below is a terraform Code:</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109" href="#__codelineno-0-109"></a>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110" href="#__codelineno-0-110"></a><span class="s1">Once you [clone repo](https://github.com/mrbalraj007/Learning_GitHub_Action/blob/main/01.Github_Action_DevOps-Project/Terraform_Code_Infra_setup) then go to folder *&lt;span style=&quot;color: cyan;&quot;&gt;&quot;01.Github_Action_DevOps-Project/Terraform_Code_Infra_setup&quot;&lt;/span&gt;* and run the terraform command.</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111" href="#__codelineno-0-111"></a><span class="s1">```bash</span>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112" href="#__codelineno-0-112"></a><span class="s1">cd 01.Github_Action_DevOps-Project/Terraform_Code_Infra_setup</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113" href="#__codelineno-0-113"></a>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114" href="#__codelineno-0-114"></a><span class="s1">$ ls</span>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115" href="#__codelineno-0-115"></a>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116" href="#__codelineno-0-116"></a><span class="s1"> 00.Code_IAC-github-repo/   01.Code_IAC_Selfhosted-Runner-and-Trivy/   02.Code_IAC_SonarQube/   03.Code_IAC_Terraform_box/  &#39;</span>AboutThis<span class="w"> </span>Project.md<span class="err">&#39;</span><span class="w">   </span>main.tf<span class="w">   </span>
</span></code></pre></div></li>
</ol>
<p>üí° <strong>Note:</strong> </span> &rArr; Make sure to run <code>main.tf</code> which is located outside of the folder. I have created the code in such a way that a single file will call all of the folders.</p>
</blockquote>
<p><div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="w"> </span>ls<span class="w"> </span>-la
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>total<span class="w"> </span><span class="m">72</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>bsingh<span class="w"> </span><span class="m">1049089</span><span class="w">   </span><span class="m">493</span><span class="w"> </span>Aug<span class="w"> </span><span class="m">20</span><span class="w">  </span><span class="m">2024</span><span class="w">  </span>.gitignore
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>drwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>bsingh<span class="w"> </span><span class="m">1049089</span><span class="w">     </span><span class="m">0</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="m">12</span>:34<span class="w">  </span><span class="m">00</span>.Code_IAC-github-repo/
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>drwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>bsingh<span class="w"> </span><span class="m">1049089</span><span class="w">     </span><span class="m">0</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="m">12</span>:34<span class="w">  </span><span class="m">01</span>.Code_IAC_Selfhosted-Runner-and-Trivy/
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>drwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>bsingh<span class="w"> </span><span class="m">1049089</span><span class="w">     </span><span class="m">0</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="m">13</span>:38<span class="w">  </span><span class="m">02</span>.Code_IAC_SonarQube/
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>drwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>bsingh<span class="w"> </span><span class="m">1049089</span><span class="w">     </span><span class="m">0</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="m">12</span>:34<span class="w">  </span><span class="m">03</span>.Code_IAC_Terraform_box/
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>bsingh<span class="w"> </span><span class="m">1049089</span><span class="w"> </span><span class="m">21284</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="m">14</span>:44<span class="w"> </span><span class="s1">&#39;AboutThis Project.md&#39;</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>bsingh<span class="w"> </span><span class="m">1049089</span><span class="w">  </span><span class="m">1309</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">19</span><span class="w"> </span><span class="m">20</span>:48<span class="w">  </span>main.tf
</span></code></pre></div>
You need to run <code>main.tf</code> file using following terraform command.</p>
<p>Now, run the following command.
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>terraform<span class="w"> </span>init
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>terraform<span class="w"> </span>fmt
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>terraform<span class="w"> </span>validate
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>terraform<span class="w"> </span>plan
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>terraform<span class="w"> </span>apply<span class="w"> </span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="c1"># Optional &lt;terraform apply --auto-approve&gt;</span>
</span></code></pre></div></p>
<hr />
<p><img alt="alt text" src="../All_ScreenShot/image-4.png" /></p>
<p>Once you run the terraform command, then we will verify the following things to make sure everything is setup properly via a terraform.</p>
<h3 id="inspect-the-cloud-init-logs"><span style="color: Orange;"> Inspect the <code>Cloud-Init</code> logs</span>:</h3>
<p>Once connected to EC2 instance then you can check the status of the <code>user_data</code> script by inspecting the <a href="https://github.com/mrbalraj007/Learning_GitHub_Action/blob/main/01.Github_Action_DevOps-Project/Terraform_Code_Infra_setup/03.Code_IAC_Terraform_box/cloud-init-output.log">log files</a>.
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Primary log file for cloud-init</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>sudo<span class="w"> </span>tail<span class="w"> </span>-f<span class="w"> </span>/var/log/cloud-init-output.log
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">                    </span>or<span class="w"> </span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>sudo<span class="w"> </span>cat<span class="w"> </span>/var/log/cloud-init-output.log<span class="w"> </span><span class="p">|</span><span class="w"> </span>more
</span></code></pre></div></p>
<blockquote>
<p>üîç- <em>If the user_data script runs successfully, you will see output logs and any errors encountered during execution.</em></p>
<p>üîç- <em>If there‚Äôs an error, this log will provide clues about what failed.</em></p>
</blockquote>
<ul>
<li>Verify the Outcome of "<code>cloud-init-output.log</code>"</li>
</ul>
<h3 id="verify-the-installation"><span style="color: cyan;"> Verify the Installation</h3>
<ul>
<li>
<p>[x] <span style="color: brown;"> Docker version
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>ubuntu@ip-172-31-95-197:~$<span class="w"> </span>docker<span class="w"> </span>--version
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>Docker<span class="w"> </span>version<span class="w"> </span><span class="m">24</span>.0.7,<span class="w"> </span>build<span class="w"> </span><span class="m">24</span>.0.7-0ubuntu4.1
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>ubuntu@ip-172-31-94-25:~$<span class="w"> </span>docker<span class="w"> </span>ps
</span></code></pre></div></p>
</li>
<li>
<p>[x] <span style="color: brown;"> trivy version
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>ubuntu@ip-172-31-89-97:~$<span class="w"> </span>trivy<span class="w"> </span>version
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>Version:<span class="w"> </span><span class="m">0</span>.55.2
</span></code></pre></div></p>
</li>
<li>[x] <span style="color: brown;"> Terraform version
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>ubuntu@ip-172-31-89-97:~$<span class="w"> </span>terraform<span class="w"> </span>version
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>Terraform<span class="w"> </span>v1.9.6
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>on<span class="w"> </span>linux_amd64
</span></code></pre></div></li>
<li>[x] <span style="color: brown;"> eksctl version
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>ubuntu@ip-172-31-89-97:~$<span class="w"> </span>eksctl<span class="w"> </span>version
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="m">0</span>.191.0
</span></code></pre></div></li>
<li>[x] <span style="color: brown;"> kubectl version
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>ubuntu@ip-172-31-89-97:~$<span class="w"> </span>kubectl<span class="w"> </span>version
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>Client<span class="w"> </span>Version:<span class="w"> </span>v1.31.1
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>Kustomize<span class="w"> </span>Version:<span class="w"> </span>v5.4.2
</span></code></pre></div></li>
<li>[x] <span style="color: brown;"> aws cli version
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>ubuntu@ip-172-31-89-97:~$<span class="w"> </span>aws<span class="w"> </span>version
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>usage:<span class="w"> </span>aws<span class="w"> </span><span class="o">[</span>options<span class="o">]</span><span class="w"> </span>&lt;command&gt;<span class="w"> </span>&lt;subcommand&gt;<span class="w"> </span><span class="o">[</span>&lt;subcommand&gt;<span class="w"> </span>...<span class="o">]</span><span class="w"> </span><span class="o">[</span>parameters<span class="o">]</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>To<span class="w"> </span>see<span class="w"> </span><span class="nb">help</span><span class="w"> </span>text,<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>run:
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">  </span>aws<span class="w"> </span><span class="nb">help</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">  </span>aws<span class="w"> </span>&lt;command&gt;<span class="w"> </span><span class="nb">help</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">  </span>aws<span class="w"> </span>&lt;command&gt;<span class="w"> </span>&lt;subcommand&gt;<span class="w"> </span><span class="nb">help</span>
</span></code></pre></div></li>
</ul>
<h3 id="verify-the-eks-cluster-installation"><span style="color: brown;"> Verify the EKS Cluster installation</h3>
<ul>
<li>Will take a putty session of from Terraform EC2</li>
<li>On the <code>terraform</code> virtual machine, Go to directory <code>k8s_setup_file</code> and open the file <code>cat apply.log</code> to verify the cluster is created or not.</li>
<li>Will verify the cluster status from </li>
<li><code>sudo cat /var/log/cloud-init-output.log | more</code> or </li>
<li><code>cat /home/ubuntu/k8s_setup_file/apply.log</code></li>
</ul>
<p><div class="language-sh highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>ubuntu@ip-172-31-90-126:~/k8s_setup_file$<span class="w"> </span><span class="nb">pwd</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>/home/ubuntu/k8s_setup_file
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>ubuntu@ip-172-31-90-126:~/k8s_setup_file$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>..
</span></code></pre></div>
   <img alt="alt text" src="../All_ScreenShot/image-12.png" /></p>
<ul>
<li>After Terraform deploys on the instance, now it's time to setup the cluster. If you logout the ssh session then reconnect the SSH and run to following command:</li>
</ul>
<p><div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>aws<span class="w"> </span>eks<span class="w"> </span>update-kubeconfig<span class="w"> </span>--name<span class="w"> </span>&lt;cluster-name&gt;<span class="w"> </span>--region<span class="w"> </span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>&lt;region&gt;
</span></code></pre></div>
- Once EKS cluster is setup then need to run the following command to make it intract with EKS.</p>
<p><div class="language-sh highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>aws<span class="w"> </span>eks<span class="w"> </span>update-kubeconfig<span class="w"> </span>--name<span class="w"> </span>balraj-cluster<span class="w"> </span>--region<span class="w"> </span>us-east-1
</span></code></pre></div>
   <img alt="alt text" src="../All_ScreenShot/image-13.png" /></p>
<blockquote>
<blockquote>
<p>‚ö†Ô∏è <strong>Important:</strong> <br>
<em>The <code>aws eks update-kubeconfig</code> command is used to configure your local kubectl tool to interact with an Amazon EKS (Elastic Kubernetes Service) cluster. It updates or creates a kubeconfig file that contains the necessary authentication information to allow kubectl to communicate with your specified EKS cluster.</em></p>
<p><span style="color: Orange;"> <strong>What happens when you run this command</strong>:</span><br>
The AWS CLI retrieves the required connection information for the EKS cluster (such as the API server endpoint and certificate) and updates the kubeconfig file located at <code>~/.kube/config (by default)</code>.
It configures the authentication details needed to connect kubectl to your EKS cluster using IAM roles.
After running this command, you will be able to interact with your EKS cluster using kubectl commands, such as <code>kubectl get nodes</code> or <code>kubectl get pods</code>.</p>
</blockquote>
</blockquote>
<p><div class="language-sh highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>nodes
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>kubectl<span class="w"> </span>cluster-info
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>kubectl<span class="w"> </span>config<span class="w"> </span>get-contexts
</span></code></pre></div>
<img alt="alt text" src="../All_ScreenShot/image-17.png" />
<img alt="alt text" src="../All_ScreenShot/image-18.png" /></p>
<hr />
<h3 id="verify-github-repo-and-github-actions"><span style="color: yellow;"> <strong>Verify GitHub Repo and GitHub Actions</strong></h3>
<ul>
<li>Verify GitHub repository created and initialize it because we are using terraform.
      <img alt="alt text" src="../All_ScreenShot/image-2.png" /></li>
<li>Verify a <code>.github/workflows</code> directory created along with two YAML file for the pipeline.
      <img alt="alt text" src="../All_ScreenShot/image-3.png" /></li>
</ul>
<h3 id="adding-a-virtual-machine-as-a-runner"><span style="color: cyan;"><strong>Adding a Virtual Machine as a Runner</strong></h3>
<ul>
<li>I'll be using self-hosted runner to execute all the pipeline.</li>
<li>Configure the runner by following the commands provided in GitHub's settings.
      <div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>   Go to &quot;GithubAction_DevOps_Projects&quot;
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>   Click on settings
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>   then select the actions and choose &quot;runners&quot;
</span></code></pre></div>
   <img alt="alt text" src="../All_ScreenShot/image-5.png" /></li>
<li>Click on new <code>self-hosted runner</code> and select <code>Linux</code></li>
<li>Notedown the token value somewhere as we need to in runner VM.
   <img alt="alt text" src="../All_ScreenShot/image-6.png" /></li>
<li>Take putty session of <code>runner</code> EC2</li>
<li>Go to <code>actions-runner</code> folder
      <img alt="alt text" src="../All_ScreenShot/image-7.png" /></li>
<li>Update/Paste the token value here as mentioned in screenshot.
      <img alt="alt text" src="../All_ScreenShot/image-8.png" /></li>
<li>Change the execution mode for script and run it.</li>
<li><code>chmod +x selfhost-runner.sh</code></li>
</ul>
<blockquote>
<p>üí° <strong>Note:</strong> </p>
<blockquote>
<p><em>Take note of the token value from here and paste it into the script in runner at the following spot. This ensures that the script executes successfully with the necessary permissions. Once you've finished, save your modifications and run the script to test whether it works as planned.</em></p>
</blockquote>
</blockquote>
<h4 id="troubleshooting"><strong>Troubleshooting:</strong></h4>
<ul>
<li>I am getting below error message while execute the file.
<img alt="alt text" src="../All_ScreenShot/image-9.png" /></li>
</ul>
<h5 id="fixsolution"><strong>Fix/Solution:</strong></h5>
<ul>
<li>I try explicitly invoking the bash interpreter:
   <div class="language-Bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>bash<span class="w"> </span>./selfhost-runner.sh
</span></code></pre></div></li>
<li>The solution is to remove these carriage return characters using the dos2unix command:</li>
<li>Install dos2unix if you haven't already:
   <div class="language-Bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>update
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>dos2unix
</span></code></pre></div></li>
<li>Run <code>dos2unix</code> on <code>selfhost-runner.sh</code> script:
   <div class="language-Bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>dos2unix<span class="w"> </span>selfhost-runner.sh
</span></code></pre></div></li>
<li>Try running the script again:
   <div class="language-Bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>./selfhost-runner.sh
</span></code></pre></div><blockquote>
<p>üí° <strong>Idea:</strong> This should now execute correctly because the problematic carriage return characters will have been removed</p>
</blockquote>
</li>
</ul>
<p>It works :-) and I am able to execute the file.
<img alt="alt text" src="../All_ScreenShot/image-10.png" />
<img alt="alt text" src="../All_ScreenShot/image-11.png" /></p>
<h3 id="setup-sonarqube"><span style="color: yellow;"> Setup SonarQube </span></h3>
<ul>
<li>Go to SonarQube EC2 and notedown the Public IPAddress and open a new browser.</li>
<li>Access SonarQube via <code>http://&lt;your-server-ip&gt;:9000</code>.
<img alt="alt text" src="../All_ScreenShot/image-19.png" />
<img alt="alt text" src="../All_ScreenShot/image-20.png" /><blockquote>
<p>üí° <strong>Note:</strong> <em>When you access the above URl then it will be promot for login. Use the "<code>admin/admin</code>" for first time login and will prompt for change the password Once you change the password, make sure to create a strong and secure one that you can remember. Afterward, you will have full access to the system's features and settings.</em></p>
</blockquote>
</li>
</ul>
<h4 id="create-a-token-in-sonarqube"><span style="color: cyan;"> Create a token in SonarQube</h4>
<ul>
<li>Go to <code>Administration</code>&gt;<code>Security</code>&gt;<code>Users</code>&gt;Create a new token</li>
</ul>
<p><img alt="image-1" src="https://github.com/user-attachments/assets/84265e50-bc10-4959-aee9-36179c2b99ab" /></p>
<p><img alt="alt text" src="../All_ScreenShot/image-21.png" /></p>
<h3 id="configure-secrets-and-variables-in-github-repo"><span style="color: yellow;"> Configure Secrets and Variables in GitHub Repo</span>.</h3>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>Go to Repo `GithubAction_DevOps_Projects`
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>Click on `settings`
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>Click on `Secrets and Variables`
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>Select `Actions`.
</span></code></pre></div>
<img alt="alt text" src="../All_ScreenShot/image.png" />
<img alt="alt text" src="../All_ScreenShot/image-1.png" /></p>
<blockquote>
<p>üí° <strong>Note:</strong> </p>
<blockquote>
<p><em>You have to update all the required tokens and secrets value here. Part of Terraform code, I have already created a dummy values, which needs to be replaced. Once you have replaced the dummy values with the actual tokens and secrets, ensure that you test the configuration thoroughly to confirm that everything functions as expected. This will help prevent any issues during deployment and maintain the integrity of your infrastructure.</em></p>
</blockquote>
</blockquote>
<ul>
<li>
<p><strong>To Update Sonar URL</strong> 
<img alt="alt text" src="../All_ScreenShot/image-22.png" /></p>
</li>
<li>
<p><strong>To update the <code>EKS_KUBECONFIG</code> secret</strong></p>
</li>
<li>Take putty session of Terraform EC2 instnace</li>
<li>run the command <code>cat ~/.kube/config</code></li>
<li>copy the whole content and paste into the secret.</li>
</ul>
<h3 id="attach-role-to-runner-ec2"><strong>Attach Role to Runner EC2</strong></h3>
<ul>
<li>Select the EC2 VM and click on the <code>actions</code> &gt; <code>security</code>&gt;<code>Mofify IAM Roles on the runner</code>.
   <img alt="alt text" src="../All_ScreenShot/image-14.png" /></li>
<li>Select the role <code>Role_k8_Cluster_profile</code> 
   <img alt="alt text" src="../All_ScreenShot/image-15.png" /></li>
<li>Click on update IAM Role.</li>
</ul>
<h3 id="writing-the-cicd-pipeline"><span style="color: orange;">  <strong>Writing the CI/CD Pipeline</strong></h3>
<ul>
<li><strong>Compile Stage</strong>:<ul>
<li>Use <code>actions/checkout</code> to clone the repository.</li>
<li>Set up the required environment (e.g., JDK 17 for Java projects).</li>
<li>Compile the application using build tools like Maven.</li>
</ul>
</li>
<li><strong>Security Checks</strong>:<ul>
<li>Install and run Trivy to scan for vulnerabilities in Docker images.</li>
<li>Use GitLeaks to detect hardcoded secrets in the source code.</li>
</ul>
</li>
<li><strong>Unit Testing</strong>:<ul>
<li>Execute test cases to validate the application.</li>
</ul>
</li>
<li><strong>Build and Publish Docker Image</strong>:<ul>
<li>Build a Docker image using <code>docker build</code>.</li>
<li>Push the image to a container registry or upload it as an artifact.</li>
</ul>
</li>
<li><strong>Deploy to Kubernetes</strong>:<ul>
<li>Use Terraform to provision an EKS cluster.</li>
<li>Deploy the application using Kubernetes manifests.</li>
</ul>
</li>
</ul>
<p><img alt="alt text" src="../All_ScreenShot/image-23.png" />
<img alt="alt text" src="../All_ScreenShot/image-24.png" /></p>
<ul>
<li>Here is the complete <a href="https://github.com/mrbalraj007/Github-Actions-Project/blob/main/.github/workflows/cicd.yml">CICD- Pipeline details</a></li>
</ul>
<!-- **6. Deploying to Kubernetes**
   - Use `kubectl` to apply Kubernetes manifests.
   - Verify the deployment by checking the status of pods and services. -->

<h3 id="verify-the-docker-image">Verify the Docker Image</h3>
<p><img alt="alt text" src="../All_ScreenShot/image-25.png" /></p>
<h3 id="verify-code-coverage-in-sonarqube">Verify code coverage in SonarQube</h3>
<p><img alt="alt text" src="../All_ScreenShot/image-26.png" />
   <img alt="alt text" src="../All_ScreenShot/image-28.png" /></p>
<h3 id="verify-pipeline-status">Verify pipeline Status</h3>
<p><img alt="alt text" src="../All_ScreenShot/image-27.png" /></p>
<h3 id="verify-the-pods-in-runner-vm">Verify the pods in runner VM</h3>
<p><img alt="alt text" src="../All_ScreenShot/image-29.png" />
   <img alt="alt text" src="../All_ScreenShot/image-30.png" /></p>
<h3 id="verify-application-status">Verify Application Status</h3>
<h2 id="_2"><img alt="alt text" src="../All_ScreenShot/image-31.png" /></h2>
<h2 id="environment-cleanup"><span style="color: Yellow;"> Environment Cleanup:</h2>
<ul>
<li>Following resouces are created as pert of this project. <br />
<img alt="alt text" src="../All_ScreenShot/image-16.png" /></li>
</ul>
<h3 id="to-delete-deployment"><span style="color: cyan;"> To delete deployment:</h3>
<ul>
<li>
<p>I've created a <code>Github Action</code> to destroy the Kubernetes <code>deployment</code> and <code>services</code>.
   <img alt="alt text" src="../All_ScreenShot/image-32.png" /></p>
</li>
<li>
<p><strong>Delete all deployment/Service</strong>: </p>
<ul>
<li>
<p>In github action, and click on the second pipeline to delete the deployment and service.
   <img alt="alt text" src="../All_ScreenShot/image-33.png" />
   <img alt="alt text" src="../All_ScreenShot/image-34.png" /></p>
</li>
<li>
<p>Here is the complete <a href="https://github.com/mrbalraj007/Github-Actions-Project/blob/main/.github/workflows/Destroy.yaml">CICD- Pipeline to destroy Deployment and Services</a></p>
</li>
</ul>
</li>
</ul>
<h3 id="to-delete-aws-eks-cluster"><span style="color: cyan;"> To delete <code>AWS EKS cluster</code></h3>
<ul>
<li>Login into the <code>Terraform EC2</code>instance and change the directory to /<code>k8s_setup_file</code>, and run the following command to delete the cluster.<ul>
<li><code>sh
     sudo su - ubuntu
     cd /k8s_setup_file
     sudo terraform destroy --auto-approve</code></li>
</ul>
</li>
</ul>
<h4 id="troubleshooting_1"><strong>Troubleshooting:</strong></h4>
<ul>
<li>I am getting below error message while running the <code>Terraform destroy</code>.
   <img alt="alt text" src="../All_ScreenShot/image-35.png" /></li>
</ul>
<h5 id="fixsolution_1"><strong>Fix/Solution:</strong></h5>
<ul>
<li>I noticed that permission is set to root for terraform dirctory. we have to take ownership first and then try to delete it.
<img alt="alt text" src="../All_ScreenShot/image-36.png" /></li>
<li>Run the following command to take ownership
   <div class="language-sh highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>sudo<span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span>ubuntu:ubuntu<span class="w"> </span>/home/ubuntu/k8s_setup_file/.terraform*
</span></code></pre></div></li>
<li>I was still getting error message while runing the desrtoy
   <img alt="alt text" src="../All_ScreenShot/image-37.png" /></li>
<li>I ran the following command again for entire terraform folder.
   <div class="language-sh highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>sudo<span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span>ubuntu:ubuntu<span class="w"> </span>/home/ubuntu/k8s_setup_file/terraform*
</span></code></pre></div></li>
<li>Rerun the destroy command and this time it works :-)
<img alt="alt text" src="../All_ScreenShot/image-38.png" /></li>
</ul>
<h3 id="to-delete-the-virtual-machine"><span style="color: cyan;"> To delete the <code>Virtual machine</code>.</h3>
<p>Go to folder <em><span style="color: cyan;">"01.Github_Action_DevOps-Project/Terraform_Code_Infra_setup"</span></em> and run the terraform command.
   - <code>00.Code_IAC-github-repo</code>
   - <code>01.Code_IAC_Selfhosted-Runner-and-Trivy</code>
   -<code>02.Code_IAC_SonarQube</code>
   - <code>03.Code_IAC_Terraform_box</code></p>
<div class="language-text highlight"><pre><span></span><code>  ```sh
  Terraform destroy --auto-approve
 ```
</code></pre></div>
<blockquote>
<p>üí° <strong>Note:</strong> </p>
<blockquote>
<p>You must use this command from <code>each folder</code> in order to destroy the entire infrastructure.</p>
</blockquote>
</blockquote>
<hr />
<h3 id="why-use-this-project"><strong>Why Use This Project</strong></h3>
<ul>
<li><strong>Automation</strong>: Reduces manual effort in building, testing, and deploying applications.</li>
<li><strong>Security</strong>: Ensures code and container security through automated scans.</li>
<li><strong>Scalability</strong>: Deploys applications to scalable Kubernetes clusters.</li>
<li><strong>Best Practices</strong>: Demonstrates industry-standard CI/CD practices.</li>
</ul>
<hr />
<h3 id="conclusion"><strong>Conclusion</strong></h3>
<p>This project provides a comprehensive guide to setting up a CI/CD pipeline using GitHub Actions. By integrating tools like Docker, Trivy, SonarQube, and Terraform, it ensures a secure and efficient software delivery process. The use of AWS CLI and Kubernetes further demonstrates the deployment of applications to cloud-native environments. This project is a valuable resource for DevOps engineers looking to implement modern CI/CD pipelines.</p>
<p><strong>Ref Link:</strong></p>
<ul>
<li><a href="https://www.youtube.com/watch?v=icZUzgtz_d8">Youtube VideoLink</a></li>
<li><a href="https://stackoverflow.com/questions/45216264/clear-file-content-cache-in-visual-studio-code">Clearfile-content cache in visualstudio code</a></li>
<li><a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens">managing-GitHub-access-tokens</a></li>
<li><a href="https://github.com/marketplace">GitHub Actions Markget Place</a></li>
<li><a href="https://github.com/marketplace/actions/download-a-build-artifact">download-a-build-artifact</a></li>
<li><a href="https://github.com/marketplace/actions/upload-a-build-artifact">upload-a-build-artifact</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: Welcome to MkDocs">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Welcome to MkDocs
              </div>
            </div>
          </a>
        
        
          
          <a href="../Referance/" class="md-footer__link md-footer__link--next" aria-label="Next: Referance">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Referance
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/@SinghBalraj102" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/sbalraj" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.footer"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>